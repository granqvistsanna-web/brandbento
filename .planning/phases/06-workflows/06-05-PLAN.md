---
phase: 06-workflows
plan: 05
type: execute
wave: 4
depends_on: ["06-02", "06-03", "06-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All workflow features work end-to-end"
    - "Keyboard shortcuts work correctly"
    - "Export produces clean PNG"
    - "Share URL opens in read-only mode"
    - "Reset is undoable"
    - "Each atomic change is exactly one undo step"
---

<objective>
Verify all Phase 6 workflow features work correctly together.

Purpose: End-to-end verification that undo/redo, export, share, and reset work as designed.

Output: Verified working workflow features ready for Phase 7.
</objective>

<execution_context>
@/Users/sannagranqvist/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sannagranqvist/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

Phase 6 requirements to verify:
- TOOL-01 through TOOL-08: Toolbar and undo/redo
- EXPRT-01 through EXPRT-04: PNG export
- SHAR-01 through SHAR-03: URL sharing
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete workflow features: keyboard shortcuts, export, share, reset, read-only view</what-built>
  <how-to-verify>
Test each feature systematically:

**1. Keyboard Shortcuts (TOOL-04)**
- [ ] Make a change (e.g., click a color swatch, change palette)
- [ ] Press Cmd+Z - change should undo
- [ ] Press Cmd+Shift+Z - change should redo
- [ ] Verify browser undo doesn't conflict

**2. Undo/Redo Buttons**
- [ ] Undo button is disabled when nothing to undo
- [ ] Make changes, verify Undo button enables
- [ ] Undo works via button click
- [ ] Redo button works after undo

**3. Atomic Undo Steps (TOOL-06)**
Verify each change type is exactly one undo step:
- [ ] Change font (select different font) -> Cmd+Z -> font reverts in one step
- [ ] Change color (click swatch, pick new color) -> Cmd+Z -> color reverts in one step
- [ ] Upload image (add image to tile) -> Cmd+Z -> image reverts in one step
- [ ] Apply palette (change color palette) -> Cmd+Z -> palette reverts in one step
- [ ] Change theme (toggle dark/light) -> Cmd+Z -> theme reverts in one step

**4. Export PNG (EXPRT-01 through EXPRT-04)**
- [ ] Click Export button - PNG downloads
- [ ] Open PNG - only bento canvas visible (no toolbar/footer)
- [ ] If on Retina display, image is high quality

**5. Share Link (SHAR-01, SHAR-02)**
- [ ] Click Share button
- [ ] "Copied!" toast appears
- [ ] Paste URL - verify it has #compressed_state and ?view=readonly

**6. Read-Only View (SHAR-03)**
- [ ] Open the shared URL in new tab
- [ ] Verify banner shows "View-only mode"
- [ ] Verify toolbar/control panel are hidden
- [ ] Click tiles - nothing should happen
- [ ] Click "Create your own" - should go to editable version

**7. Reset (TOOL-07, TOOL-08)**
- [ ] Click Reset button
- [ ] Confirmation dialog appears
- [ ] Cancel - nothing changes
- [ ] Confirm - moodboard resets to new template
- [ ] Toast shows "Moodboard reset!"
- [ ] Press Cmd+Z - previous state is restored (reset is undoable)
  </how-to-verify>
  <resume-signal>Type "all verified" or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Manual verification of all workflow features per the checklist above.
</verification>

<success_criteria>
- [ ] All keyboard shortcuts work
- [ ] Export produces clean PNG
- [ ] Share copies URL with toast
- [ ] Shared URL opens in read-only mode
- [ ] Reset shows confirmation and is undoable
- [ ] Each atomic change (font, color, image, palette, theme) is one undo step
- [ ] No console errors during workflow operations
</success_criteria>

<output>
After completion, create `.planning/phases/06-workflows/06-05-SUMMARY.md`
</output>
