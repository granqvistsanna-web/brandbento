---
phase: 02-canvas-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.tsx
  - src/App.css
  - src/components/Tile.tsx
  - src/components/tiles/UIPreviewTile.tsx
autonomous: true

must_haves:
  truths:
    - "User sees a 3x3 bento grid with 8px gap centered on screen"
    - "Logo tile is at column 1 row 1, Primary type at column 2 row 1"
    - "Imagery tile spans column 3 rows 1-2"
    - "Colors tile at column 1 row 2, Secondary type at column 2 row 2"
    - "UI Preview tile spans all 3 columns in row 3"
    - "Grid compresses to 2 columns on tablet (768-1024px)"
    - "Grid stacks to single column on mobile (<768px)"
    - "Canvas has warm off-white background (#FAFAF8)"
    - "Tiles have subtle shadows instead of borders"
  artifacts:
    - path: "src/App.tsx"
      provides: "Grid with all 6 tiles including UIPreviewTile"
      contains: "UIPreviewTile"
    - path: "src/App.css"
      provides: "3x3 grid layout with responsive breakpoints"
      contains: "grid-template-columns: repeat(3"
    - path: "src/components/tiles/UIPreviewTile.tsx"
      provides: "Placeholder UI Preview tile component"
      exports: ["UIPreviewTile"]
  key_links:
    - from: "src/App.tsx"
      to: "src/components/tiles/UIPreviewTile.tsx"
      via: "import and render"
      pattern: "import.*UIPreviewTile"
---

<objective>
Implement the correct 3x3 bento grid layout with all 6 tiles in proper positions, responsive breakpoints, and visual styling per requirements.

Purpose: The canvas is the core surface of Brand Bento. Correct tile placement enables the "system view" value - seeing all brand assets working together.

Output: A properly laid out 3x3 grid with Logo (1x1), Primary Type (1x1), Imagery (1x2), Colors (1x1), Secondary Type (1x1), and UI Preview (3x1) tiles.
</objective>

<execution_context>
@/Users/sannagranqvist/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sannagranqvist/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-canvas-system/02-RESEARCH.md
@src/App.tsx
@src/App.css
@src/components/Tile.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add UIPreviewTile placeholder component</name>
  <files>src/components/tiles/UIPreviewTile.tsx, src/components/index.ts</files>
  <action>
Create `src/components/tiles/UIPreviewTile.tsx` with a placeholder component:

```tsx
import { Tile } from '../Tile';

export function UIPreviewTile({
  isLoading,
}: {
  isLoading?: boolean;
}) {
  return (
    <Tile
      isLoading={isLoading}
      isDefault={false}
      label="UI Preview"
      className="tile-ui-preview"
    >
      <div className="ui-preview-placeholder">
        <span>Interface preview</span>
        <span className="ui-preview-hint">Updates as you change brand assets</span>
      </div>
    </Tile>
  );
}
```

Update `src/components/index.ts` to export from tiles directory:
```ts
export * from './Tile';
export * from './URLInput';
export * from './ExtractionOverlay';
export * from './tiles/UIPreviewTile';
```
  </action>
  <verify>File exists at src/components/tiles/UIPreviewTile.tsx. TypeScript compiles without errors: `npm run build 2>&1 | head -20`</verify>
  <done>UIPreviewTile component exists and exports correctly</done>
</task>

<task type="auto">
  <name>Task 2: Update grid layout to 3x3 with correct tile placement</name>
  <files>src/App.css</files>
  <action>
Update the CSS to implement proper 3x3 bento grid per requirements. Key changes:

1. Change canvas background from `var(--off-white)` (#fafafa) to warm off-white `#FAFAF8` (requirement CANV-09)
2. Add 8px gap (requirement CANV-01) - currently using `var(--space-4)` which is 16px, change to `var(--space-2)` or explicit 8px
3. Add grid-template-rows to define 3 rows
4. Add shadow to tiles, remove any borders (requirement CANV-10)
5. Update tile-ui-preview to span all 3 columns
6. Fix responsive breakpoints: tablet at 768-1024px (2 cols), mobile <768px (1 col)

CSS updates:
```css
:root {
  /* Add warm off-white */
  --warm-off-white: #FAFAF8;
}

.canvas {
  background: var(--warm-off-white);
  min-height: calc(100vh - 200px);
  padding: var(--space-12); /* 48px margin per CANV-08 */
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

.bento-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: 180px 180px 200px; /* 3 rows */
  gap: 8px; /* CANV-01: 8px gap */
  grid-auto-flow: dense;
  max-width: 900px;
  width: 100%;
}

/* Tile shadows instead of borders */
.tile {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04);
}

/* UI Preview tile - spans 3 columns, row 3 */
.tile-ui-preview {
  grid-column: span 3;
  grid-row: 3;
  min-height: 200px;
}

/* Tablet: 768-1024px - 2 columns */
@media (min-width: 768px) and (max-width: 1023px) {
  .bento-grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: auto;
  }

  .tile-imagery {
    grid-row: span 2;
  }

  .tile-ui-preview {
    grid-column: span 2;
    grid-row: auto;
  }
}

/* Mobile: <768px - single column (existing but update) */
@media (max-width: 767px) {
  .bento-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  /* All tiles single column, single row */
  .tile-logo,
  .tile-primary-type,
  .tile-imagery,
  .tile-colors,
  .tile-secondary-type,
  .tile-ui-preview {
    grid-column: 1;
    grid-row: auto;
  }

  .tile-ui-preview {
    min-height: 180px;
  }
}
```

Ensure existing tile placement for desktop (Logo col1/row1, Primary col2/row1, Imagery col3/rows1-2, Colors col1/row2, Secondary col2/row2) remains correct.
  </action>
  <verify>Run `npm run dev`, inspect grid at different viewport widths (desktop 1200px, tablet 900px, mobile 500px). Grid should show 3 columns on desktop, 2 on tablet, 1 on mobile.</verify>
  <done>Grid layout matches requirements with correct breakpoints and tile placement</done>
</task>

<task type="auto">
  <name>Task 3: Wire UIPreviewTile into App.tsx and verify layout</name>
  <files>src/App.tsx</files>
  <action>
Update App.tsx to render UIPreviewTile in the grid:

1. Import UIPreviewTile from components
2. Add UIPreviewTile to the bento-grid div after SecondaryFontTile
3. Pass isLoading state based on extraction stage

```tsx
import { UIPreviewTile } from '@/components';

// In the bento-grid div, after the secondary FontTile:
<UIPreviewTile
  isLoading={isExtracting && tileLoading.logo}
/>
```

Also add styling for UI Preview placeholder in App.css:
```css
/* UI Preview tile placeholder styles */
.ui-preview-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  height: 100%;
  color: var(--gray-400);
}

.ui-preview-placeholder span:first-child {
  font-size: 14px;
  font-weight: var(--font-weight-medium);
}

.ui-preview-hint {
  font-size: 12px;
  color: var(--gray-300);
}
```
  </action>
  <verify>Run `npm run dev` and verify:
1. All 6 tiles visible in grid
2. UIPreviewTile spans full width at bottom
3. Grid layout matches diagram in PROJECT.md
4. No TypeScript errors</verify>
  <done>UIPreviewTile renders in correct position, grid matches specification</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Visual grid verification:**
   - Desktop (1200px+): 3 columns, Logo/Primary in row 1, Imagery spans rows 1-2, Colors/Secondary in row 2, UI Preview full-width row 3
   - Tablet (768-1024px): 2 columns, tiles reflow correctly
   - Mobile (<768px): Single column stack

2. **Style verification:**
   - Canvas background is warm off-white (#FAFAF8)
   - Tiles have subtle shadow (no borders)
   - 8px gap between tiles
   - Minimum 48px padding on canvas

3. **Technical verification:**
   - `npm run build` completes without errors
   - No console errors in browser
</verification>

<success_criteria>
- Grid displays as 3x3 on desktop with correct tile placement
- UI Preview tile spans all 3 columns at bottom
- Responsive breakpoints work at 768px and 1024px
- Canvas has warm off-white background and tiles have shadows
- All TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-canvas-system/02-01-SUMMARY.md`
</output>
