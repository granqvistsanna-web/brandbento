---
phase: 05-system-view
plan: 03
type: execute
wave: 3
depends_on: ["05-02"]
files_modified:
  - src/components/tiles/UIPreviewTile.tsx
  - src/App.css
autonomous: true

must_haves:
  truths:
    - "Hovering UI preview shows tooltip explaining reactive behavior"
    - "Tooltip says 'This preview updates automatically based on your brand choices'"
  artifacts:
    - path: "src/components/tiles/UIPreviewTile.tsx"
      provides: "Tooltip on hover"
      contains: "updates automatically"
    - path: "src/App.css"
      provides: "Tooltip styling"
      contains: ".ui-preview-tooltip"
  key_links:
    - from: "src/components/tiles/UIPreviewTile.tsx"
      to: "aria-describedby"
      via: "Tooltip accessibility"
      pattern: "aria-describedby"
---

<objective>
Add explanatory tooltip to UI preview tile on hover.

Purpose: Help users understand that the preview is reactive and not directly editable.
Output: Tooltip displaying on hover with explanation text.
</objective>

<execution_context>
@/Users/sannagranqvist/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sannagranqvist/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-system-view/05-02-SUMMARY.md

@src/components/tiles/UIPreviewTile.tsx
@src/App.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add hover tooltip to UIPreviewTile</name>
  <files>src/components/tiles/UIPreviewTile.tsx, src/App.css</files>
  <action>
Add a tooltip that appears on hover (UIPV-07):

1. In UIPreviewTile.tsx, add hover state and tooltip element:
```typescript
const [showTooltip, setShowTooltip] = useState(false);

return (
  <Tile
    id="ui-preview"
    label="UI Preview"
    nonInteractive
    className="tile-ui-preview"
  >
    <div
      className="ui-preview-wrapper"
      onMouseEnter={() => setShowTooltip(true)}
      onMouseLeave={() => setShowTooltip(false)}
    >
      <UIPreviewMock ... />

      {showTooltip && (
        <div
          className="ui-preview-tooltip"
          role="tooltip"
          id="ui-preview-tooltip"
        >
          This preview updates automatically based on your brand choices
        </div>
      )}
    </div>
  </Tile>
);
```

2. Add accessibility: aria-describedby on the wrapper pointing to tooltip id

3. In App.css, add tooltip styles:
```css
.ui-preview-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
}

.ui-preview-tooltip {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 8px;
  padding: 8px 12px;
  background: rgba(0, 0, 0, 0.85);
  color: white;
  font-size: 12px;
  border-radius: 6px;
  white-space: nowrap;
  pointer-events: none;
  z-index: 100;

  /* Fade in animation */
  animation: tooltipFadeIn 150ms ease-out;
}

.ui-preview-tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(0, 0, 0, 0.85);
}

@keyframes tooltipFadeIn {
  from { opacity: 0; transform: translateX(-50%) translateY(4px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}
```

Tooltip should:
- Appear above the tile content
- Have dark background with white text
- Fade in smoothly (150ms)
- Have pointer/arrow pointing down to tile
- Not interfere with tile interaction
  </action>
  <verify>
UIPreviewTile.tsx contains:
- useState for showTooltip
- onMouseEnter/onMouseLeave handlers
- Tooltip div with text "updates automatically"
- role="tooltip" for accessibility

App.css contains:
- .ui-preview-tooltip with position absolute
- Animation for fade in
- Arrow pseudo-element
  </verify>
  <done>
Hovering UI preview shows tooltip explaining that it updates automatically.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify LIVE-06 - exclusive panel management</name>
  <files>src/components/Tile.tsx</files>
  <action>
Verify that LIVE-06 (only one edit panel at a time) is already implemented.

1. Read src/components/Tile.tsx and confirm:
   - editingTileId state controls which tile's panel is open
   - setEditingTile(tileId) replaces any previous editing tile
   - Only one tile can have isEditing=true at a time

2. If already implemented correctly, this task is a verification only.
   Add a comment in Tile.tsx near setEditingTile call:
   ```typescript
   // LIVE-06: Only one edit panel open at a time - setting a new tileId
   // automatically closes any previously open panel
   ```

3. If NOT implemented, fix it (but based on codebase review, it already works).

This is a verification task to confirm the requirement is met.
  </action>
  <verify>
Tile.tsx contains:
- editingTileId single state variable
- setEditingTile replaces (not appends)
- Comment confirming LIVE-06
  </verify>
  <done>
Only one edit panel can be open at a time (LIVE-06 confirmed).
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` - hover over UI preview tile
2. Tooltip appears with text about automatic updates
3. Tooltip is positioned above tile, fades in smoothly
4. Click any editable tile to open panel, then click another - first panel closes
5. `npm run build` passes
</verification>

<success_criteria>
- Tooltip appears on hover with correct text (UIPV-07)
- Tooltip is accessible (role="tooltip", aria-describedby)
- Only one edit panel can be open at a time (LIVE-06)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-system-view/05-03-SUMMARY.md`
</output>
